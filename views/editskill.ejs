<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar competencia</title>
    <link rel="stylesheet" href="/css/style.css">
    <script type="module" src="/js/editskill.js" defer></script>
</head>
<body>
<%- include('partials/username-display') %>
<div class="edit-skill-page">
    <button id="backButton" class="backButton">Volver</button>
    <header>
        <h1>Editar competencia: <%= skill.skillText %></h1>
    </header>
    <section class="edit-skill-form">
        <form action="/skills/<%= skillTreeName %>/edit/<%= skill.skillID %>" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="skillText">Nombre de la competencia:</label>
                <input type="text" id="skillText" name="skillText" value="<%= skill.skillText %>" required>
            </div>

            <div class="form-group">
                <label for="description">Descripción:</label>
                <textarea id="description" name="description" rows="3" required><%= skill.description %></textarea>
            </div>

            <div class="form-group">
                <label for="tasks">Tareas (una por línea):</label>
                <textarea id="tasks" name="tasks" rows="5"><%= skill.tasks %></textarea>
            </div>

            <div class="form-group">
                <label for="resources">Recursos (uno por línea):</label>
                <textarea id="resources" name="resources" rows="5"><%= skill.resources %></textarea>
            </div>

            <div class="form-group">
                <label for="skillScore">Puntuación:</label>
                <input type="number" id="skillScore" name="skillScore" value="<%= skill.skillScore %>" min="1" required>
            </div>

            <div class="form-group">
                <label for="iconUpload">Icono (opcional):</label>
                <input type="file" id="iconUpload" name="iconUpload" accept=".png">
            </div>

            <div class="form-buttons">
                <button type="submit" class="save-button">Guardar cambios</button>
                <button type="submit" class="delete-button" formaction="/skills/<%= skillTreeName %>/delete/<%= skill.skillID %>">Borrar competencia</button>
            </div>
        </form>
    </section>
</div>
</body>
</html>